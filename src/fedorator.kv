#:kivy 1.0.9

<BackLabel@Label>:
    font_size: 12
    size_hint: 0.3, 0.3
    text_size: 64, 32
    halign: "left"
    valign: "top"
    pos_hint: {'x': -0.04, 'y': 0.82}
    color: (1, 1, 1, 1)
    text: "<- back"

<ImageButton@Button>:
    source: None
    background_color: 0, 0, 0, 0

    Image:
        source: root.source
        pos: root.pos
        size: root.size

<ReleaseButton>:
    height: 120
    width: root.width
    size_hint_x: 1.0
    size_hint_y: None
    
    Button:
        source: None
        size_hint: (1.0, 1.0)
        pos: (0, 0)
        
        background_color: (1, 1, 1, 0.5)
        
        on_press:
            root.on_press()
    
    Label:
        pos: (-root.width + 120 + (root.width - 60), 0)
        text_size: (root.width - 120 - 20, root.height)
        halign: "left"
        valign: "middle"
        text: root.text
        font_size: 20
    
    Image:
        source: root.source
        size_hint: (1.0, 0.9)
        pos: (-root.width/2 + 60 + 4, root.height * 0.05)

<DetailMenu>:
    dropdown_version:   dropdown_version
    dropdown_arch:      dropdown_arch
    mainbutton_version: mainbutton_version
    mainbutton_arch:    mainbutton_arch
    flash_button: flash_button
    back_button: back_button
    back_label: back_label
    status_label: status_label
    progress_label: progress_label
    progress: progress
    
    RelativeLayout:
        size_hint: 1, 1
        
        BackLabel:
            id: back_label
        ImageButton:
            id: back_button
            source: root.release_image
            pos_hint: {'x': 0.025, 'y': 1.0 - 0.3}
            size_hint: 0.3, 0.3
            
            on_press:
                root.manager.transition.direction = 'right'
                root.manager.current = 'list'
        
        Label:
            font_size: 32
            text_size: root.width * 0.6, None
            pos_hint: {'x': 0.20, 'y': 0.35}
            text: root.release_name
        
        Label:
            font_size: 18
            text_size: root.width * 0.9, None
            
            pos_hint: {'x': 0.0, 'y': 0.1675}
            text: root.release_summary
        
        DropDown:
            id: dropdown_version
            
        DropDown:
            id: dropdown_arch
        
        GridLayout:
            size_hint: 0.9, 0.2
            pos_hint: {'x': 0.0, 'y': 0.35}
            cols: 2
            spacing: 8
            
            Label:
                text: "Version"
            
            Button:
                id: mainbutton_version
            
            Label:
                text: "Architecture"
                
            Button:
                id: mainbutton_arch
        
        Button:
            id: flash_button
            size_hint: 0.95, 0.2
            pos_hint: {'x': 0.025, 'y': 0.025}
            text: "Flash"
            on_press: root.flash()
        
        Label:
            id: status_label
            pos_hint: {'x': 0, 'y': -0.2}
            text_size: self.size
            halign: 'center'
            valign: 'middle'
        
        Label:
            id: progress_label
            pos_hint: {'x': 0, 'y': -0.21}
            text_size: self.size
            halign: 'right'
            valign: 'middle'
            font_size: 12
            color: (1, 1, 1, 0.5)
        
        ProgressBar:
            id: progress
            size_hint: 0.9, 1
            pos_hint: {'x': 0.05, 'y': -0.25}
            max: 1.0


<ListMenu>:
    scroll_view: scroll_view
    release_grid: release_grid
    
    FloatLayout:
        size_hint: 1, 1
        
        BackLabel:
        ImageButton:
            source: 'img/fedora.png'
            pos_hint: {'x': 0.075, 'y': 1.0 - 0.3}
            size_hint: 0.3, 0.3
            
            on_press:
                root.manager.transition.direction = 'right'
                root.manager.current = 'front'
        
        Label:
            font_size: 32
            text_size: root.width * 0.6, None
            pos_hint: {'x': 0.25, 'y': 0.35}
            text: "Please choose a release"
        
        ScrollView:
            id: scroll_view
            size_hint: (1, None)
            size: (root.width, root.height * 0.7)
            
            GridLayout:
                id: release_grid
                cols: 1
                spacing: 8
                size_hint_y: None
        
                

<FedoratorMenu>:
    GridLayout:
        size_hint: 1, 1
        pos_hint: {'center_x': .5, 'center_y': .5}
        canvas:
                
        Image:
            source: 'img/fedora.png'
            pos: 8, 32
            size: root.width - 16, root.width - 16
            
        Label:
            font_size: 70  
            center_x: root.width / 2
            top: root.top - 4
            text: "Fedorator"
            
        Label:
            font_size: 24
            center_x: root.width / 2
            top: root.top - 52
            text: root.status_message
        
        Label:
            font_size: 16
            text_size: 128, 64
            pos: 32, -12
            halign: 'left'
            valign: 'bottom'
            text: root.left_disk_text
            
        Label:
            font_size: 16
            text_size: 128, 64
            pos: root.width - 128, -12
            halign: 'right'
            valign: 'bottom'
            text: root.right_disk_text
        
        Label:
            font_size: 16
            text_size: 128, 64
            pos: root.width/2, root.height - 38
            halign: 'right'
            valign: 'bottom'
            text: root.ip
        
        

