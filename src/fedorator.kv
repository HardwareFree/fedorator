#:kivy 1.0.9

<ImageButton@Button>:
    source: None
    background_color: 0, 0, 0, 0

    Image:
        source: root.source
        pos: root.pos
        size: root.size

<ReleaseButton>:
    height: 120
    width: root.width
    size_hint_x: 1.0
    size_hint_y: None
    
    Button:
        source: None
        text: root.text
        size_hint: (1.0, 1.0)
        pos: (0, 0)
        text_size: (self.width - 60, self.height)
        valign: 'middle'
        halign: 'right'
        font_size: 20
        
        background_color: (1, 1, 1, 0.5)
        
        on_press:
            root.on_press()
        
    Image:
        source: root.source
        size_hint: (1.0, 1.0)
        pos: (-root.width/2 + 60 + 8, 0)
#        pos: ctx.pos
#        size: ctx.size

<DetailMenu>:
    RelativeLayout:
        size_hint: 1, 1
        
        ImageButton:
            source: 'img/fedora.png'
            pos_hint: {'x': 0.075, 'y': 1.0 - 0.3}
            size_hint: 0.3, 0.3
            
            on_press:
                root.manager.transition.direction = 'right'
                root.manager.current = 'list'
        
        Label:
            font_size: 32
            text_size: root.width * 0.6, None
            pos_hint: {'x': 0.25, 'y': 0.35}
            text: root.image_name

<ListMenu>:
    scroll_view: scroll_view
    image_grid: image_grid
    
    FloatLayout:
        size_hint: 1, 1
        
        ImageButton:
            source: 'img/fedora.png'
            pos_hint: {'x': 0.075, 'y': 1.0 - 0.3}
            size_hint: 0.3, 0.3
            
            on_press:
                root.manager.transition.direction = 'right'
                root.manager.current = 'front'
        
        Label:
            font_size: 32
            text_size: root.width * 0.6, None
            pos_hint: {'x': 0.25, 'y': 0.35}
            text: "Please choose an image"
        
        ScrollView:
            id: scroll_view
            size_hint: (1, None)
            size: (root.width, root.height * 0.7)
            
            GridLayout:
                id: image_grid
                cols: 1
                spacing: 8
                size_hint_y: None
        
#        Button:
#            text: 'Flash'
#            size_hint: 1, 0.25
#            
#            on_press:
                

<FedoratorMenu>:
    GridLayout:
        size_hint: 1, 1
        pos_hint: {'center_x': .5, 'center_y': .5}
        canvas:
                
        Image:
            source: 'img/fedora.png'
            pos: 8, 32
            size: root.width - 16, root.width - 16
            
        Label:
            font_size: 70  
            center_x: root.width / 2
            top: root.top - 4
            text: "Fedorator"
            
        Label:
            font_size: 24
            center_x: root.width / 2
            top: root.top - 52
            text: root.status_message
        
        Label:
            font_size: 16
            text_size: 128, 64
            pos: 32, -12
            halign: 'left'
            valign: 'bottom'
            text: root.left_disk_text
            
        Label:
            font_size: 16
            text_size: 128, 64
            pos: root.width - 128, -12
            halign: 'right'
            valign: 'bottom'
            text: root.right_disk_text
        
        Label:
            font_size: 16
            text_size: 128, 64
            pos: root.width/2, root.height - 38
            halign: 'right'
            valign: 'bottom'
            text: root.ip
        
        

